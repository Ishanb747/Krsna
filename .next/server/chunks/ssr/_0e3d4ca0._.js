module.exports=[81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},49584,a=>{"use strict";var b=a.i(72131);a.i(69387);var c=a.i(60574),d=a.i(20237),e=a.i(11642);function f(){let[a,f]=(0,b.useState)([]),[g,h]=(0,b.useState)(!0),{user:i}=(0,e.useAuth)();(0,b.useEffect)(()=>{if(!i){f([]),h(!1);return}let a=(0,c.query)((0,c.collection)(d.db,"habits"),(0,c.where)("userId","==",i.uid)),b=(0,c.onSnapshot)(a,a=>{f(a.docs.map(a=>({id:a.id,...a.data()}))),h(!1)});return()=>b()},[i]);let j=async b=>{let e=a.find(a=>a.id===b);if(!e)return;let f=new Date;f.setHours(0,0,0,0);let g=f.getTime(),h=e.completedDates.includes(g),i=[...e.completedDates],j=e.streak;h?(i=i.filter(a=>a!==g),j=Math.max(0,j-1)):(i.push(g),j+=1),await (0,c.updateDoc)((0,c.doc)(d.db,"habits",b),{completedDates:i,streak:j})};return{habits:a,loading:g,addHabit:async(a,b="daily")=>{i&&await (0,c.addDoc)((0,c.collection)(d.db,"habits"),{name:a,frequency:b,streak:0,completedDates:[],createdAt:Date.now(),userId:i.uid})},toggleHabit:j,deleteHabit:async a=>{await (0,c.deleteDoc)((0,c.doc)(d.db,"habits",a))}}}a.s(["useHabits",()=>f])},79501,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(49584),e=a.i(16106),f=a.i(81560);let g=(0,a.i(70106).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var h=a.i(98621);function i(){let{habits:a,loading:i,addHabit:j,toggleHabit:k,deleteHabit:l}=(0,d.useHabits)(),[m,n]=(0,c.useState)(""),o=async a=>{a.preventDefault(),m.trim()&&(await j(m),n(""))};return i?(0,b.jsx)("div",{className:"p-8 text-[var(--color-text)]",children:"Loading habits..."}):(0,b.jsxs)("div",{className:"mx-auto max-w-4xl",children:[(0,b.jsx)("h1",{className:"mb-8 text-4xl font-bold",style:{color:"var(--color-text)"},children:"Habit Builder"}),(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("form",{onSubmit:o,className:"cozy-card flex items-center px-4 py-3",children:[(0,b.jsx)(e.Flame,{className:"mr-3 h-6 w-6 text-[var(--color-danger)]"}),(0,b.jsx)("input",{type:"text",value:m,onChange:a=>n(a.target.value),placeholder:"New habit to build...",className:"flex-1 bg-transparent text-lg font-medium placeholder-opacity-50 outline-none",style:{color:"var(--color-text)"}}),m&&(0,b.jsx)("button",{type:"submit",className:"text-sm font-bold text-[var(--color-primary)] hover:underline",children:"ADD"})]})}),(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:a.map(a=>{let c=new Date;c.setHours(0,0,0,0);let d=c.getTime(),i=a.completedDates.includes(d);return(0,b.jsxs)("div",{className:(0,h.default)("cozy-card flex flex-col justify-between p-6 transition-all hover:-translate-y-1",i&&"bg-[var(--color-bg)]"),children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-2 flex items-start justify-between",children:[(0,b.jsx)("h3",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:a.name}),(0,b.jsx)("button",{onClick:()=>l(a.id),className:"text-[var(--color-text)] opacity-0 transition-opacity hover:text-[var(--color-danger)] group-hover:opacity-100",children:(0,b.jsx)(f.Trash2,{className:"h-4 w-4"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-[var(--color-secondary)]",children:[(0,b.jsx)(e.Flame,{className:"h-5 w-5 fill-current"}),(0,b.jsxs)("span",{className:"font-bold",children:[a.streak," day streak"]})]})]}),(0,b.jsx)("button",{onClick:()=>k(a.id),disabled:!!i,className:(0,h.default)("mt-4 flex w-full items-center justify-center rounded-[var(--border-radius)] py-2 font-bold transition-all",i?"cursor-default bg-[var(--color-secondary)] text-white":"cozy-btn bg-[var(--color-card)] text-[var(--color-text)] hover:bg-[var(--color-primary)] hover:text-white"),children:i?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g,{className:"mr-2 h-5 w-5"}),"Done!"]}):"Mark Complete"})]},a.id)})})]})}a.s(["default",()=>i],79501)}];

//# sourceMappingURL=_0e3d4ca0._.js.map