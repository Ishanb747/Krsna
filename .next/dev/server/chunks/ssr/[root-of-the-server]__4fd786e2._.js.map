{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/krsna/src/components/Sidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport {\r\n  Home,\r\n  CheckSquare,\r\n  Clock,\r\n  Book,\r\n  Settings,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Sun,\r\n  Moon,\r\n  Flame,\r\n  LogOut,\r\n  User as UserIcon,\r\n  Upload,\r\n  X,\r\n  Camera,\r\n  Feather,\r\n  Volume2,\r\n  VolumeX,\r\n  Menu,\r\n} from \"lucide-react\";\r\nimport clsx from \"clsx\";\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport { useTheme } from \"@/contexts/ThemeContext\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { useSound } from \"@/contexts/SoundContext\";\r\nimport { storage } from \"@/lib/firebase\";\r\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\n\r\nconst navItems = [\r\n  { name: \"Dashboard\", href: \"/\", icon: Home },\r\n  { name: \"To-Do\", href: \"/todo\", icon: CheckSquare },\r\n  { name: \"Focus\", href: \"/focus\", icon: Clock },\r\n  { name: \"Journal\", href: \"/journal\", icon: Book },\r\n  { name: \"Habits\", href: \"/habits\", icon: Flame },\r\n  { name: \"Settings\", href: \"/settings\", icon: Settings },\r\n];\r\n\r\nexport default function Sidebar() {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const [isCollapsed, setIsCollapsed] = useState(false);\r\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\r\n  const { theme, toggleTheme } = useTheme();\r\n  const { user, logout, updateUserProfile } = useAuth();\r\n  const { isMuted, toggleMute, playClick } = useSound();\r\n  \r\n  const [isProfileMenuOpen, setIsProfileMenuOpen] = useState(false);\r\n  const [isUploadModalOpen, setIsUploadModalOpen] = useState(false);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const handleLogout = async () => {\r\n    await logout();\r\n    router.push(\"/login\");\r\n  };\r\n\r\n  const openEditProfile = () => {\r\n    setDisplayName(user?.displayName || \"\");\r\n    setIsUploadModalOpen(true);\r\n    setIsProfileMenuOpen(false);\r\n  };\r\n\r\n  const handleSaveProfile = async () => {\r\n    setUploading(true);\r\n    try {\r\n      let photoURL = user?.photoURL;\r\n\r\n      // Upload new image if selected\r\n      if (fileInputRef.current?.files?.[0]) {\r\n        const file = fileInputRef.current.files[0];\r\n        const storageRef = ref(storage, `profile_pictures/${user?.uid}`);\r\n        await uploadBytes(storageRef, file);\r\n        photoURL = await getDownloadURL(storageRef);\r\n      }\r\n\r\n      await updateUserProfile({\r\n        displayName: displayName,\r\n        photoURL: photoURL || undefined\r\n      });\r\n      \r\n      setIsUploadModalOpen(false);\r\n    } catch (error) {\r\n      console.error(\"Error updating profile:\", error);\r\n      alert(\"Failed to update profile. Please try again.\");\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    // Just trigger a re-render to show preview if needed, or just rely on the file input\r\n    // For now, we'll keep it simple and just let the user click save\r\n  };\r\n\r\n  // Close mobile menu when route changes\r\n  useEffect(() => {\r\n    setIsMobileMenuOpen(false);\r\n  }, [pathname]);\r\n\r\n  return (\r\n    <>\r\n      {/* Mobile Hamburger Menu Button */}\r\n      <button\r\n        onClick={() => setIsMobileMenuOpen(true)}\r\n        className=\"fixed top-4 left-4 z-40 flex h-12 w-12 items-center justify-center rounded-[var(--border-radius)] border-2 border-[var(--color-text)] bg-[var(--color-card)] text-[var(--color-text)] shadow-[2px_2px_0px_var(--color-text)] transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none md:hidden\"\r\n        aria-label=\"Open menu\"\r\n      >\r\n        <Menu className=\"h-6 w-6\" />\r\n      </button>\r\n\r\n      {/* Mobile Backdrop */}\r\n      {isMobileMenuOpen && (\r\n        <div\r\n          className=\"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm md:hidden\"\r\n          onClick={() => setIsMobileMenuOpen(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Sidebar */}\r\n      <div\r\n        className={clsx(\r\n          \"fixed md:relative z-50 flex h-screen flex-col border-r-2 border-gray-800 bg-[var(--color-card)] text-[var(--color-text)] transition-all duration-300 ease-in-out\",\r\n          // Mobile: slide in from left\r\n          isMobileMenuOpen ? \"translate-x-0\" : \"-translate-x-full md:translate-x-0\",\r\n          // Tablet and Desktop: normal behavior\r\n          isCollapsed ? \"md:w-24\" : \"w-64\"\r\n        )}\r\n        style={{ borderColor: \"var(--color-text)\" }}\r\n      >\r\n        {/* Mobile Close Button */}\r\n        <button\r\n          onClick={() => setIsMobileMenuOpen(false)}\r\n          className=\"absolute -right-12 top-4 flex h-10 w-10 items-center justify-center rounded-[var(--border-radius)] border-2 border-[var(--color-text)] bg-[var(--color-card)] text-[var(--color-text)] shadow-[2px_2px_0px_var(--color-text)] md:hidden\"\r\n          aria-label=\"Close menu\"\r\n        >\r\n          <X className=\"h-5 w-5\" />\r\n        </button>\r\n\r\n        {/* Desktop Collapse Button */}\r\n        <button\r\n          onClick={() => setIsCollapsed(!isCollapsed)}\r\n          className=\"absolute -right-3 top-9 hidden h-6 w-6 items-center justify-center rounded-full border-2 border-[var(--color-text)] bg-[var(--color-card)] text-[var(--color-text)] shadow-sm hover:scale-110 md:flex\"\r\n          aria-label={isCollapsed ? \"Expand sidebar\" : \"Collapse sidebar\"}\r\n        >\r\n        {isCollapsed ? (\r\n          <ChevronRight className=\"h-4 w-4\" />\r\n        ) : (\r\n          <ChevronLeft className=\"h-4 w-4\" />\r\n        )}\r\n      </button>\r\n\r\n      <div className=\"flex h-20 items-center justify-center border-b-2 border-[var(--color-text)]\">\r\n        <div className=\"flex items-center gap-2 transition-transform duration-300 hover:scale-110\">\r\n          <Feather className={clsx(\"text-[var(--color-primary)]\", isCollapsed ? \"h-12 w-12\" : \"h-8 w-8\")} />\r\n          {!isCollapsed && (\r\n            <h1 className=\"bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-accent)] bg-clip-text text-3xl font-bold tracking-wider text-transparent\">\r\n              Krsna\r\n            </h1>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <nav className=\"flex-1 overflow-y-auto py-6\">\r\n        <ul className=\"space-y-2 px-3\">\r\n          {navItems.map((item) => {\r\n            const Icon = item.icon;\r\n            const isActive = pathname === item.href;\r\n            return (\r\n              <li key={item.name}>\r\n                <Link\r\n                  href={item.href}\r\n                  onClick={() => playClick()}\r\n                  className={clsx(\r\n                    \"flex items-center rounded-[var(--border-radius)] transition-all duration-200\",\r\n                    isCollapsed ? \"px-2 py-3\" : \"px-4 py-3\",\r\n                    isActive\r\n                      ? \"bg-[var(--color-primary)] text-white shadow-[2px_2px_0px_var(--color-text)] border-2 border-[var(--color-text)]\"\r\n                      : \"text-[var(--color-text)] hover:bg-[var(--color-secondary)] hover:text-white hover:shadow-[2px_2px_0px_var(--color-text)] hover:border-2 hover:border-[var(--color-text)] border-2 border-transparent\"\r\n                  )}\r\n                >\r\n                  <Icon className={clsx(isCollapsed ? \"h-7 w-7 mx-auto\" : \"h-6 w-6 mr-3\")} />\r\n                  {!isCollapsed && <span className=\"font-bold\">{item.name}</span>}\r\n                </Link>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </nav>\r\n\r\n      <div className=\"border-t-2 border-[var(--color-text)] p-4\">\r\n        <button\r\n          onClick={() => {\r\n            playClick();\r\n            toggleTheme();\r\n          }}\r\n          className={clsx(\r\n            \"mb-2 flex w-full items-center justify-center rounded-[var(--border-radius)] border-2 border-[var(--color-text)] bg-[var(--color-card)] py-2 shadow-[2px_2px_0px_var(--color-text)] transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none\",\r\n            isCollapsed ? \"px-2\" : \"px-4\"\r\n          )}\r\n        >\r\n          {theme === \"light\" ? (\r\n            <>\r\n              <Moon className={clsx(\"text-[var(--color-text)]\", isCollapsed ? \"h-8 w-8\" : \"h-5 w-5\")} />\r\n              {!isCollapsed && <span className=\"ml-2 font-bold\">Dark Mode</span>}\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Sun className={clsx(\"text-[var(--color-accent)]\", isCollapsed ? \"h-8 w-8\" : \"h-5 w-5\")} />\r\n              {!isCollapsed && <span className=\"ml-2 font-bold\">Light Mode</span>}\r\n            </>\r\n          )}\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => {\r\n            playClick();\r\n            toggleMute();\r\n          }}\r\n          className={clsx(\r\n            \"mb-4 flex w-full items-center justify-center rounded-[var(--border-radius)] border-2 border-[var(--color-text)] bg-[var(--color-card)] py-2 shadow-[2px_2px_0px_var(--color-text)] transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none\",\r\n            isCollapsed ? \"px-2\" : \"px-4\"\r\n          )}\r\n        >\r\n          {isMuted ? (\r\n            <>\r\n              <VolumeX className={clsx(\"text-[var(--color-danger)]\", isCollapsed ? \"h-8 w-8\" : \"h-5 w-5\")} />\r\n              {!isCollapsed && <span className=\"ml-2 font-bold\">Unmute</span>}\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Volume2 className={clsx(\"text-[var(--color-primary)]\", isCollapsed ? \"h-8 w-8\" : \"h-5 w-5\")} />\r\n              {!isCollapsed && <span className=\"ml-2 font-bold\">Mute</span>}\r\n            </>\r\n          )}\r\n        </button>\r\n\r\n        <div className=\"relative\">\r\n          <button\r\n            onClick={() => setIsProfileMenuOpen(!isProfileMenuOpen)}\r\n            className={clsx(\r\n              \"flex w-full items-center rounded-[var(--border-radius)] border-2 border-transparent p-2 transition-all hover:bg-[var(--color-bg)]\",\r\n              isCollapsed && \"justify-center\",\r\n              isProfileMenuOpen && \"bg-[var(--color-bg)] border-[var(--color-text)]\"\r\n            )}\r\n          >\r\n            {user?.photoURL ? (\r\n              <img \r\n                src={user.photoURL} \r\n                alt=\"Profile\" \r\n                className=\"h-10 w-10 rounded-full border-2 border-[var(--color-text)] object-cover\"\r\n              />\r\n            ) : (\r\n              <div className=\"flex h-10 w-10 items-center justify-center rounded-full border-2 border-[var(--color-text)] bg-[var(--color-secondary)] text-white\">\r\n                <UserIcon className=\"h-6 w-6\" />\r\n              </div>\r\n            )}\r\n            \r\n            {!isCollapsed && (\r\n              <div className=\"ml-3 overflow-hidden text-left\">\r\n                <p className=\"truncate text-sm font-bold\">{user?.displayName || \"User\"}</p>\r\n                <p className=\"truncate text-xs opacity-70\">{user?.email}</p>\r\n              </div>\r\n            )}\r\n          </button>\r\n\r\n          {/* Profile Menu Popover */}\r\n          {isProfileMenuOpen && (\r\n            <div className={clsx(\r\n              \"absolute bottom-full left-0 mb-2 w-full min-w-[200px] overflow-hidden rounded-[var(--border-radius)] border-2 border-[var(--color-text)] bg-[var(--color-card)] shadow-[4px_4px_0px_var(--color-text)]\",\r\n              isCollapsed && \"left-full ml-2 bottom-0\"\r\n            )}>\r\n              <div className=\"p-2\">\r\n                <button\r\n                  onClick={openEditProfile}\r\n                  className=\"flex w-full items-center rounded-[var(--border-radius)] px-3 py-2 text-sm font-bold hover:bg-[var(--color-bg)]\"\r\n                >\r\n                  <Camera className=\"mr-2 h-4 w-4\" />\r\n                  Edit Profile\r\n                </button>\r\n                <div className=\"my-1 h-[2px] bg-[var(--color-text)] opacity-10\"></div>\r\n                <button\r\n                  onClick={handleLogout}\r\n                  className=\"flex w-full items-center rounded-[var(--border-radius)] px-3 py-2 text-sm font-bold text-[var(--color-danger)] hover:bg-[var(--color-bg)]\"\r\n                >\r\n                  <LogOut className=\"mr-2 h-4 w-4\" />\r\n                  Logout\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Edit Profile Modal */}\r\n      {isUploadModalOpen && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm\">\r\n          <div className=\"cozy-card w-full max-w-sm p-6 text-center\">\r\n            <div className=\"mb-4 flex items-center justify-between\">\r\n              <h3 className=\"text-xl font-bold\">Edit Profile</h3>\r\n              <button onClick={() => setIsUploadModalOpen(false)}>\r\n                <X className=\"h-6 w-6 hover:text-[var(--color-danger)]\" />\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"mb-6 flex justify-center\">\r\n              <div className=\"relative h-32 w-32 overflow-hidden rounded-full border-4 border-[var(--color-text)] bg-[var(--color-bg)]\">\r\n                {user?.photoURL ? (\r\n                  <img src={user.photoURL} alt=\"Profile\" className=\"h-full w-full object-cover\" />\r\n                ) : (\r\n                  <UserIcon className=\"h-full w-full p-6 text-[var(--color-secondary)]\" />\r\n                )}\r\n                <button \r\n                  onClick={() => fileInputRef.current?.click()}\r\n                  className=\"absolute inset-0 flex items-center justify-center bg-black/30 opacity-0 transition-opacity hover:opacity-100\"\r\n                >\r\n                  <Camera className=\"h-8 w-8 text-white\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mb-6 text-left\">\r\n              <label className=\"mb-1 block text-sm font-bold\">Username</label>\r\n              <input\r\n                type=\"text\"\r\n                value={displayName}\r\n                onChange={(e) => setDisplayName(e.target.value)}\r\n                placeholder=\"Enter username\"\r\n                className=\"w-full rounded-[var(--border-radius)] border-2 border-[var(--color-text)] bg-transparent px-3 py-2 outline-none focus:border-[var(--color-primary)]\"\r\n              />\r\n            </div>\r\n\r\n            <input\r\n              type=\"file\"\r\n              ref={fileInputRef}\r\n              onChange={handleFileSelect}\r\n              accept=\"image/*\"\r\n              className=\"hidden\"\r\n            />\r\n\r\n            <button\r\n              onClick={handleSaveProfile}\r\n              disabled={uploading}\r\n              className=\"cozy-btn w-full bg-[var(--color-primary)] py-3 font-bold text-white hover:bg-[var(--color-secondary)] disabled:opacity-50\"\r\n            >\r\n              {uploading ? \"Saving...\" : \"Save Changes\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 692, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/krsna/src/components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function ProtectedRoute({ children }: { children: React.ReactNode }) {\r\n  const { user, loading } = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!loading && !user) {\r\n      router.push(\"/login\");\r\n    }\r\n  }, [user, loading, router]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex h-screen items-center justify-center\">\r\n        <div className=\"h-12 w-12 animate-spin rounded-full border-b-2 border-t-2 border-blue-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return null;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,eAAe,EAAE,QAAQ,EAAiC;IAChF,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,0IAAO;IACjC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,WAAW,CAAC,MAAM;YACrB,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAM;QAAS;KAAO;IAE1B,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,qBAAO;kBAAG;;AACZ"}},
    {"offset": {"line": 744, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/krsna/src/app/%28dashboard%29/layout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Sidebar from \"@/components/Sidebar\";\r\nimport ProtectedRoute from \"@/components/ProtectedRoute\";\r\n\r\nexport default function DashboardLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  return (\r\n    <ProtectedRoute>\r\n      <div className=\"flex h-screen bg-transparent\">\r\n        <Sidebar />\r\n        <main className=\"flex-1 overflow-y-auto p-4 pt-20 md:p-6 md:pt-6 lg:p-8\">{children}</main>\r\n      </div>\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,gBAAgB,EACtC,QAAQ,EAGT;IACC,qBACE,8OAAC,+IAAc;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,wIAAO;;;;;8BACR,8OAAC;oBAAK,WAAU;8BAA0D;;;;;;;;;;;;;;;;;AAIlF"}}]
}