(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75037,e=>{"use strict";var t=e.i(43476),s=e.i(71645);e.i(36180);var l=e.i(98925),a=e.i(59141),o=e.i(57951),c=e.i(40539),r=e.i(56272),i=e.i(73998),d=e.i(58377);function n(){let{stats:e,loading:n}=function(){let[e,t]=(0,s.useState)({completedTodos:0,activeTodos:0,totalJournalEntries:0,activeHabits:0,habitStreaks:0}),[c,r]=(0,s.useState)(!0),{user:i}=(0,o.useAuth)();return(0,s.useEffect)(()=>{!async function(){if(i)try{let e=(0,l.query)((0,l.collection)(a.db,"todos"),(0,l.where)("userId","==",i.uid)),s=(await (0,l.getDocs)(e)).docs.map(e=>e.data()),o=s.filter(e=>e.completed).length,c=s.length-o,r=(0,l.query)((0,l.collection)(a.db,"journal"),(0,l.where)("userId","==",i.uid)),d=(await (0,l.getDocs)(r)).size,n=(0,l.query)((0,l.collection)(a.db,"habits"),(0,l.where)("userId","==",i.uid)),x=(await (0,l.getDocs)(n)).docs.map(e=>e.data()),m=x.length,h=x.reduce((e,t)=>e+t.streak,0);t({completedTodos:o,activeTodos:c,totalJournalEntries:d,activeHabits:m,habitStreaks:h})}catch(e){console.error("Error fetching analytics:",e)}finally{r(!1)}}()},[i]),{stats:e,loading:c}}();return n?(0,t.jsx)("div",{className:"p-8 text-[var(--color-text)]",children:"Loading analytics..."}):(0,t.jsxs)("div",{className:"mx-auto max-w-4xl",children:[(0,t.jsx)("h1",{className:"mb-8 text-4xl font-bold",style:{color:"var(--color-text)"},children:"Analytics Dashboard"}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"cozy-card p-6",children:[(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-bold",style:{color:"var(--color-text)"},children:"Total Tasks"}),(0,t.jsx)(r.CheckSquare,{className:"h-5 w-5 text-[var(--color-primary)]"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--color-text)"},children:e.completedTodos+e.activeTodos}),(0,t.jsxs)("p",{className:"text-sm opacity-70",style:{color:"var(--color-text)"},children:[e.completedTodos," completed"]})]}),(0,t.jsxs)("div",{className:"cozy-card p-6",children:[(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-bold",style:{color:"var(--color-text)"},children:"Journal Entries"}),(0,t.jsx)(i.Book,{className:"h-5 w-5 text-[var(--color-secondary)]"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--color-text)"},children:e.totalJournalEntries}),(0,t.jsx)("p",{className:"text-sm opacity-70",style:{color:"var(--color-text)"},children:"Lifetime entries"})]}),(0,t.jsxs)("div",{className:"cozy-card p-6",children:[(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-bold",style:{color:"var(--color-text)"},children:"Habit Streaks"}),(0,t.jsx)(d.Flame,{className:"h-5 w-5 text-[var(--color-danger)]"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--color-text)"},children:e.habitStreaks}),(0,t.jsx)("p",{className:"text-sm opacity-70",style:{color:"var(--color-text)"},children:"Total streak days"})]})]}),(0,t.jsx)("div",{className:"cozy-card mt-8 flex h-64 items-center justify-center p-8",children:(0,t.jsxs)("div",{className:"text-center opacity-50",children:[(0,t.jsx)(c.BarChart2,{className:"mx-auto mb-2 h-12 w-12 text-[var(--color-text)]"}),(0,t.jsx)("p",{style:{color:"var(--color-text)"},children:"Detailed charts coming soon..."})]})})]})}e.s(["default",()=>n],75037)}]);