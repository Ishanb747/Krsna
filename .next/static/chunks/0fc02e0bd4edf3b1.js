(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88864,e=>{"use strict";var t=e.i(71645);e.i(36180);var s=e.i(98925),a=e.i(59141),d=e.i(57951);function c(){let[e,c]=(0,t.useState)([]),[i,l]=(0,t.useState)(!0),{user:o}=(0,d.useAuth)();(0,t.useEffect)(()=>{if(!o){c([]),l(!1);return}let e=(0,s.query)((0,s.collection)(a.db,"habits"),(0,s.where)("userId","==",o.uid)),t=(0,s.onSnapshot)(e,e=>{c(e.docs.map(e=>({id:e.id,...e.data()}))),l(!1)});return()=>t()},[o]);let r=async t=>{let d=e.find(e=>e.id===t);if(!d)return;let c=new Date;c.setHours(0,0,0,0);let i=c.getTime(),l=d.completedDates.includes(i),o=[...d.completedDates],r=d.streak;l?(o=o.filter(e=>e!==i),r=Math.max(0,r-1)):(o.push(i),r+=1),await (0,s.updateDoc)((0,s.doc)(a.db,"habits",t),{completedDates:o,streak:r})};return{habits:e,loading:i,addHabit:async(e,t="daily")=>{o&&await (0,s.addDoc)((0,s.collection)(a.db,"habits"),{name:e,frequency:t,streak:0,completedDates:[],createdAt:Date.now(),userId:o.uid})},toggleHabit:r,deleteHabit:async e=>{await (0,s.deleteDoc)((0,s.doc)(a.db,"habits",e))}}}e.s(["useHabits",()=>c])},19424,e=>{"use strict";var t=e.i(71645);e.i(36180);var s=e.i(98925),a=e.i(59141),d=e.i(57951);function c(){let[e,c]=(0,t.useState)([]),[i,l]=(0,t.useState)(!0),{user:o}=(0,d.useAuth)();return(0,t.useEffect)(()=>{if(!o){c([]),l(!1);return}let e=(0,s.query)((0,s.collection)(a.db,"todos"),(0,s.where)("userId","==",o.uid),(0,s.orderBy)("createdAt","desc")),t=(0,s.onSnapshot)(e,e=>{c(e.docs.map(e=>({id:e.id,...e.data()}))),l(!1)});return()=>t()},[o]),{todos:e,loading:i,addTodo:async(e,t="medium")=>{o&&await (0,s.addDoc)((0,s.collection)(a.db,"todos"),{text:e,completed:!1,createdAt:Date.now(),userId:o.uid,priority:t})},toggleTodo:async(e,t)=>{await (0,s.updateDoc)((0,s.doc)(a.db,"todos",e),{completed:t})},deleteTodo:async e=>{await (0,s.deleteDoc)((0,s.doc)(a.db,"todos",e))}}}e.s(["useTodos",()=>c])},71135,e=>{"use strict";var t=e.i(43476),s=e.i(57951),a=e.i(88864),d=e.i(19424),c=e.i(71645),i=e.i(56272),l=e.i(3116),o=e.i(58377);function r(){let{user:e}=(0,s.useAuth)(),{habits:r}=(0,a.useHabits)(),{todos:n,addTodo:u}=(0,d.useTodos)();return(0,c.useEffect)(()=>{if(!r.length||!e)return;let t=new Date;t.setHours(0,0,0,0);let s=t.getTime();r.forEach(e=>{n.some(t=>t.text===`Habit: ${e.name}`&&t.createdAt>=s)||u(`Habit: ${e.name}`,"medium")})},[r,e,n,u]),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"mb-6 text-4xl font-bold",style:{color:"var(--color-text)"},children:["Welcome back, ",(0,t.jsx)("span",{style:{color:"var(--color-primary)"},children:e?.email?.split("@")[0]||"User"}),"!"]}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,t.jsxs)("div",{className:"cozy-card p-6",children:[(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:"Today's Tasks"}),(0,t.jsx)(i.CheckSquare,{className:"h-6 w-6 text-[var(--color-primary)]"})]}),(0,t.jsxs)("p",{className:"text-3xl font-bold",children:[n.filter(e=>!e.completed).length," remaining"]})]}),(0,t.jsxs)("div",{className:"cozy-card p-6",children:[(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:"Focus Time"}),(0,t.jsx)(l.Clock,{className:"h-6 w-6 text-[var(--color-accent)]"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:"0m focused"})]}),(0,t.jsxs)("div",{className:"cozy-card p-6",children:[(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:"Habit Streak"}),(0,t.jsx)(o.Flame,{className:"h-6 w-6 text-[var(--color-danger)]"})]}),(0,t.jsxs)("p",{className:"text-3xl font-bold",children:[Math.max(...r.map(e=>e.streak),0)," day best"]})]})]})]})}e.s(["default",()=>r])}]);