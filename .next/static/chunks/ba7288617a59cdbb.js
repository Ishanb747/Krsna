(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},88864,e=>{"use strict";var t=e.i(71645);e.i(36180);var a=e.i(98925),s=e.i(59141),r=e.i(57951);function l(){let[e,l]=(0,t.useState)([]),[i,o]=(0,t.useState)(!0),{user:c}=(0,r.useAuth)();(0,t.useEffect)(()=>{if(!c){l([]),o(!1);return}let e=(0,a.query)((0,a.collection)(s.db,"habits"),(0,a.where)("userId","==",c.uid)),t=(0,a.onSnapshot)(e,e=>{l(e.docs.map(e=>({id:e.id,...e.data()}))),o(!1)});return()=>t()},[c]);let d=async t=>{let r=e.find(e=>e.id===t);if(!r)return;let l=new Date;l.setHours(0,0,0,0);let i=l.getTime(),o=r.completedDates.includes(i),c=[...r.completedDates],d=r.streak;o?(c=c.filter(e=>e!==i),d=Math.max(0,d-1)):(c.push(i),d+=1),await (0,a.updateDoc)((0,a.doc)(s.db,"habits",t),{completedDates:c,streak:d})};return{habits:e,loading:i,addHabit:async(e,t="daily")=>{c&&await (0,a.addDoc)((0,a.collection)(s.db,"habits"),{name:e,frequency:t,streak:0,completedDates:[],createdAt:Date.now(),userId:c.uid})},toggleHabit:d,deleteHabit:async e=>{await (0,a.deleteDoc)((0,a.doc)(s.db,"habits",e))}}}e.s(["useHabits",()=>l])},85035,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(88864),r=e.i(58377),l=e.i(27612);let i=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var o=e.i(7670);function c(){let{habits:e,loading:c,addHabit:d,toggleHabit:n,deleteHabit:u}=(0,s.useHabits)(),[m,h]=(0,a.useState)(""),x=async e=>{e.preventDefault(),m.trim()&&(await d(m),h(""))};return c?(0,t.jsx)("div",{className:"p-8 text-[var(--color-text)]",children:"Loading habits..."}):(0,t.jsxs)("div",{className:"mx-auto max-w-4xl",children:[(0,t.jsx)("h1",{className:"mb-8 text-4xl font-bold",style:{color:"var(--color-text)"},children:"Habit Builder"}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("form",{onSubmit:x,className:"cozy-card flex items-center px-4 py-3",children:[(0,t.jsx)(r.Flame,{className:"mr-3 h-6 w-6 text-[var(--color-danger)]"}),(0,t.jsx)("input",{type:"text",value:m,onChange:e=>h(e.target.value),placeholder:"New habit to build...",className:"flex-1 bg-transparent text-lg font-medium placeholder-opacity-50 outline-none",style:{color:"var(--color-text)"}}),m&&(0,t.jsx)("button",{type:"submit",className:"text-sm font-bold text-[var(--color-primary)] hover:underline",children:"ADD"})]})}),(0,t.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:e.map(e=>{let a=new Date;a.setHours(0,0,0,0);let s=a.getTime(),c=e.completedDates.includes(s);return(0,t.jsxs)("div",{className:(0,o.default)("cozy-card flex flex-col justify-between p-6 transition-all hover:-translate-y-1",c&&"bg-[var(--color-bg)]"),children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-2 flex items-start justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:e.name}),(0,t.jsx)("button",{onClick:()=>u(e.id),className:"text-[var(--color-text)] opacity-0 transition-opacity hover:text-[var(--color-danger)] group-hover:opacity-100",children:(0,t.jsx)(l.Trash2,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-[var(--color-secondary)]",children:[(0,t.jsx)(r.Flame,{className:"h-5 w-5 fill-current"}),(0,t.jsxs)("span",{className:"font-bold",children:[e.streak," day streak"]})]})]}),(0,t.jsx)("button",{onClick:()=>n(e.id),disabled:!!c,className:(0,o.default)("mt-4 flex w-full items-center justify-center rounded-[var(--border-radius)] py-2 font-bold transition-all",c?"cursor-default bg-[var(--color-secondary)] text-white":"cozy-btn bg-[var(--color-card)] text-[var(--color-text)] hover:bg-[var(--color-primary)] hover:text-white"),children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i,{className:"mr-2 h-5 w-5"}),"Done!"]}):"Mark Complete"})]},e.id)})})]})}e.s(["default",()=>c],85035)}]);